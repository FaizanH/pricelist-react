{"version":3,"sources":["firebase.js","services/services.js","components/public/common/pages/protected-route.js","components/public/common/pages/unauthorised.js","components/public/common/menu/user-menu.component.js","components/public/common/menu/admin-menu.component.js","components/admin/users/create-user.component.js","components/admin/users/manage-users.component.js","components/admin/products/manage-products.component.js","components/admin/products/create-product.component.js","components/admin/products/edit-product.component.js","components/admin/users/edit-user.component.js","components/public/common/menu/common-menu.component.js","components/public/products/view-products.component.js","components/public/common/pages/home.js","components/public/common/dashboard/dashboard.js","components/public/common/pages/login.js","components/public/common/pages/register-user.js","components/public/common/sidebar/admin-sidebar.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","err","test","message","console","error","stack","fire","createToken","a","user","auth","currentUser","getIdToken","token","payloadHeader","headers","Authorization","getUserByEmail","email","header","axios","post","deployment","localhost","res","data","addUser","getProductById","id","get","getProducts","updateProduct","product","ProtectedRoute","Component","component","isLoggedIn","rest","render","props","permission_group","to","pathname","state","from","location","Unauthorized","UserMenu","className","Navbar","bg","variant","expand","Toggle","Brand","as","Link","Collapse","Nav","NavDropdown","title","Item","username","toString","AdminMenu","CreateUser","onChangeUsername","bind","onChangePassword","onSubmit","password","e","this","setState","target","value","preventDefault","log","then","Form","Group","Label","Control","type","required","onChange","placeholder","Button","User","first_name","last_name","status","_id","href","onClick","deleteUser","ManageUsers","users","catch","delete","filter","el","map","currentuser","Table","striped","bordered","hover","usersList","ManageProducts","useState","products","setProducts","Customer","Price","update","setUpdate","useEffect","length","fetchData","deleteProduct","prodid","CustomerPrice","customer","sku","InputGroup","FormControl","Append","currentproduct","pricing","currentcustomer","productsList","AddProduct","setPricing","setSku","setTitle","importDone","setImportDone","setCustomerName","setCustomerPrice","deleteCustomerPrice","CustomerPrices","DragNDropElement","colSpan","onDragOver","onDrop","dataTransfer","files","text","customerPrices","parse","window","prev","indexOf","EditProduct","setsku","active","setactive","settitle","match","params","p","parseInt","EditUser","onChangeCurrentPassword","onChangeNewPassword","currentPassword","newPassword","Menu","Product","price","Home","Dashboard","failedRoute","Login","setEmail","setpassword","handleLogin","setLoadingState","signInWithEmailAndPassword","fb_auth","successRoute","Register","setusername","setfirstname","setlastname","email_address","setemail","setpermissions","handleRegister","createUserWithEmailAndPassword","defaultValue","AdminSidebar","openMenu","menuCollapse","handleLogout","signOut","setLoggedOutState","disabled","_isMounted","App","setUser","setIsLoggedIn","loading","setLoading","classContent","setClassContent","setIsLoggedInState","getAuth","onAuthStateChanged","Spinner","animation","exact","path","Unauthorised","ViewProducts","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cc425511.chunk.js","sourcesContent":["import firebase from 'firebase';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyBcVUIMEeHo7uJcE8UvOwq8Dzz-iE4grk4\",\r\n    authDomain: \"pricelist-boulvandre.firebaseapp.com\",\r\n    databaseURL: \"https://pricelist-boulvandre-default-rtdb.firebaseio.com\",\r\n    projectId: \"pricelist-boulvandre\",\r\n    storageBucket: \"pricelist-boulvandre.appspot.com\",\r\n    messagingSenderId: \"137243822858\",\r\n    appId: \"1:137243822858:web:9ae1e2ded5ca6322e788f3\"\r\n};\r\n\r\ntry {\r\n  firebase.initializeApp(firebaseConfig);\r\n} catch (err) {\r\n  if (!/already exists/.test(err.message)) {\r\n    console.error('Firebase initialization error', err.stack);\r\n  }\r\n}\r\n\r\nconst fire = firebase;\r\nexport default fire;","import axios from \"axios\";\r\nimport firebase from \"../firebase\";\r\nimport deployment from \"../deployment\";\r\n\r\nconst createToken = async () => {\r\n    const user = firebase.auth().currentUser;\r\n    // console.log(user);\r\n    const token = user && (await user.getIdToken());\r\n\r\n    const payloadHeader = {\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`,\r\n        },\r\n    };\r\n    return payloadHeader;\r\n}\r\n\r\nexport const getUser = async () => {\r\n    const header = await createToken();\r\n\r\n    try {\r\n      const res = await axios.get(deployment.localhost + \"/auth/user\", header);\r\n      return res.data;\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n}\r\n\r\nexport const getUserByEmail = async (email) => {\r\n    const header = await createToken();\r\n\r\n    try {\r\n        const res = await axios.post(deployment.localhost + \"/users/email\", {\"email\": email}, header)\r\n        return res.data;\r\n    } catch (e) {\r\n        console.error(e);\r\n    }\r\n}\r\n\r\nexport const addUser = async (user) => {\r\n    const header = await createToken();\r\n\r\n    try {\r\n        const res = await axios.post(deployment.localhost + \"/users/add\", user, header)\r\n        return res.data;\r\n    } catch (e) {\r\n        console.error(e);\r\n    }\r\n}\r\n\r\nexport const getProductById = async (id) => {\r\n    const header = await createToken();\r\n\r\n    try {\r\n        const res = await axios.get(deployment.localhost + \"/products/id/\" + id, header)\r\n        return res.data;\r\n    } catch (e) {\r\n        console.error(e);\r\n    }\r\n}\r\n\r\nexport const getProducts = async () => {\r\n    const header = await createToken();\r\n\r\n    try {\r\n        const res = await axios.get(deployment.localhost + \"/products/\", header)\r\n        return res.data;\r\n    } catch (e) {\r\n        console.error(e);\r\n    }\r\n}\r\n\r\nexport const updateProduct = async (id, product) => {\r\n    const header = await createToken();\r\n\r\n    try {\r\n        const res = await axios.post(deployment.localhost + \"/products/update/\" + id, product, header)\r\n        return res.data;\r\n    } catch (e) {\r\n        console.error(e);\r\n    }\r\n}","import React, { Component, useEffect } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, user, isLoggedIn, ...rest }) => {\r\n    return (\r\n        <Route {...rest} render={\r\n            props => {\r\n                // {console.log(user)}\r\n                if (isLoggedIn && user.permission_group == \"Administrator\") {\r\n                    return <Component {...rest} user={user} {...props} />\r\n                } else {\r\n                    return <Redirect to={\r\n                        {\r\n                            pathname: \"/401\",\r\n                            state: {\r\n                                from: props.location\r\n                            }\r\n                        }\r\n                    } />\r\n                }\r\n            }\r\n        } />\r\n    )\r\n}\r\n\r\nexport default ProtectedRoute;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Unauthorized = () => {\r\n    return (\r\n        <div>\r\n            <p>401 - Unauthorised</p>\r\n            <p>You do not have access to this page. Please contact your administrator</p>\r\n            <p><Link to='/'>Back to Home</Link></p>\r\n        </div>\r\n    )\r\n  }\r\n  \r\n  export default Unauthorized;","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Navbar, Nav, NavItem, NavDropdown, MenuItem, NavLink } from \"react-bootstrap\";\r\n\r\nimport axios from \"axios\";\r\nimport deployment from \"../../../../deployment\";\r\n\r\nlet config = {\r\n    withCredentials: true,\r\n    credentials: \"include\",\r\n    headers: {\r\n        \"Accept\": \"*/*\",\r\n        \"Content-Type\": \"application/json\"\r\n    }\r\n};\r\n\r\nconst UserMenu = props => {\r\n    return (\r\n        <div className=\"user-menu\">\r\n            <Navbar className=\"p-2 w-100\" bg=\"dark\" variant=\"dark\" expand=\"lg\">\r\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                <Navbar.Brand as={Link} to=\"/\">Pricelist</Navbar.Brand>\r\n                <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                    <Nav className=\"m-auto\">\r\n                        <Nav.Link className=\"\" as={Link} to=\"/catalogue\">Catalogue</Nav.Link>\r\n                        <NavDropdown title=\"Manage\" id=\"basic-nav-dropdown\">\r\n                            <NavDropdown.Item as={Link} to=\"/admin/products\">Manage Products</NavDropdown.Item>\r\n                        </NavDropdown>\r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n                <Navbar.Brand className=\"navbar-user\" as={Link} to=\"/dashboard\">{props.user.username.toString()}</Navbar.Brand>\r\n            </Navbar>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserMenu;","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Navbar, Nav, NavItem, NavDropdown, MenuItem, NavLink } from \"react-bootstrap\";\r\n\r\nconst AdminMenu = props => {\r\n    return (\r\n        <div className=\"admin-menu\">\r\n            <Navbar className=\"p-2 w-100\" bg=\"dark\" variant=\"dark\" expand=\"lg\">\r\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                <Navbar.Brand as={Link} to=\"/\">Pricelist</Navbar.Brand>\r\n                <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                    <Nav className=\"m-auto\">\r\n                        <Nav.Link className=\"\" as={Link} to=\"/catalogue\">Catalogue</Nav.Link>\r\n                        <NavDropdown title=\"Manage\" id=\"basic-nav-dropdown\">\r\n                            <NavDropdown.Item as={Link} to=\"/admin/users\">Manage Users</NavDropdown.Item>\r\n                            <NavDropdown.Item as={Link} to=\"/admin/products\">Manage Products</NavDropdown.Item>\r\n                        </NavDropdown>\r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n                <Navbar.Brand className=\"navbar-user\" as={Link} to=\"/dashboard\">{props.user.username.toString()}</Navbar.Brand>\r\n            </Navbar>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AdminMenu;","import React, { Component } from \"react\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport deployment from \"../../../deployment\";\r\n\r\nexport default class CreateUser extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.onChangeUsername = this.onChangeUsername.bind(this);\r\n        this.onChangePassword = this.onChangePassword.bind(this);\r\n        // this.onChangeEmail = this.onChangeEmail.bind(this);\r\n        // this.onChangeFirstName = this.onChangeFirstName.bind(this);\r\n        // this.onChangeLastName = this.onChangeLastName.bind(this);\r\n        // this.onChangeAccess = this.onChangeAccess.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            // email: '',\r\n            // firstName: '',\r\n            // lastName: '',\r\n            // accessLevel: ''\r\n        }\r\n    }\r\n\r\n    onChangeUsername(e) {\r\n        this.setState({\r\n            username: e.target.value\r\n        });\r\n    }\r\n    onChangePassword(e) {\r\n        this.setState({\r\n            password: e.target.value\r\n        });\r\n    }\r\n    // onChangeEmail(e) {\r\n    //     this.setState({\r\n    //         email: e.target.value\r\n    //     });\r\n    // }\r\n    // onChangeFirstName(e) {\r\n    //     this.setState({\r\n    //         firstName: e.target.value\r\n    //     });\r\n    // }\r\n    // onChangeLastName(e) {\r\n    //     this.setState({\r\n    //         lastName: e.target.value\r\n    //     });\r\n    // }\r\n    // onChangeAccess(e) {\r\n    //     this.setState({\r\n    //         accessLevel: e.target.value\r\n    //     });\r\n    // }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        const user = {\r\n            username: this.state.username,\r\n            password: this.state.password,\r\n            // email: this.state.email,\r\n            // firstName: this.state.firstName,\r\n            // lastName: this.state.lastName,\r\n            // accessLevel: this.state.accessLevel\r\n        }\r\n        console.log(user);\r\n        axios.post(deployment.localhost + \"/users/add\", user)\r\n            .then(res => console.log(res.data));\r\n\r\n        this.setState({\r\n            username: '',\r\n            password: '',\r\n            // email: '',\r\n            // firstName: '',\r\n            // lastName: '',\r\n            // accessLevel: ''\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h6>Add User</h6>\r\n                <Form onSubmit={this.onSubmit}>\r\n                    <Form.Group>\r\n                        <Form.Label>Username</Form.Label>\r\n                        <Form.Control type=\"username\" required value={this.state.username} onChange={this.onChangeUsername} placeholder=\"Enter Username\"/>\r\n                        {/* <Form.Label>First Name</Form.Label>\r\n                        <Form.Control type=\"text\" value={this.state.firstName} onChange={this.onChangeFirstName} placeholder=\"Enter First Name\"/>\r\n                        <Form.Label>Last Name</Form.Label>\r\n                        <Form.Control type=\"text\" value={this.state.lastName} onChange={this.onChangeLastName} placeholder=\"Enter Last Name\"/>\r\n                        <Form.Label>Email</Form.Label>\r\n                        <Form.Control type=\"email\" value={this.state.email} onChange={this.onChangeEmail} placeholder=\"Enter Email\"/> */}\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control type=\"password\" required value={this.state.password} onChange={this.onChangePassword} placeholder=\"Enter Password\"/>\r\n                        {/* <Form.Label>Access Level</Form.Label>\r\n                        <Form.Control as=\"select\" aria-label=\"Default select\" value={this.state.accessLevel} onChange={this.onChangeAccess}>\r\n                            <option>Standard</option>\r\n                            <option>Administrator</option>\r\n                        </Form.Control> */}\r\n                    </Form.Group>\r\n                    <Button as={Link} to=\"/admin/users\" variant=\"primary\">Back</Button>\r\n                    <Button variant=\"primary\" type=\"submit\">Create</Button>\r\n                </Form>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport deployment from \"../../../deployment\";\r\n\r\nconst User = props => (\r\n    <tr>\r\n        <td>{props.user.username}</td>\r\n        <td>{props.user.first_name} {props.user.last_name}</td>\r\n        <td>{props.user.status}</td>\r\n        <td>\r\n            <Link to={\"/admin/users/edit/\" + props.user._id}>edit</Link> |\r\n            <a href=\"#\" onClick={() => { props.deleteUser(props.user._id) }}>delete</a>\r\n        </td>\r\n    </tr>\r\n);\r\n\r\nexport default class ManageUsers extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.deleteUser = this.deleteUser.bind(this);\r\n\r\n        this.state = { users: [] };\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(deployment.localhost + \"/users/\")\r\n            .then(res => {\r\n                this.setState({ users: res.data })\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n\r\n    deleteUser(id) {\r\n        axios.delete(deployment.localhost + \"/users/\" + id)\r\n            .then(res => console.log(res.data));\r\n\r\n        this.setState({\r\n            users: this.state.users.filter(el => el._id !== id)\r\n        });\r\n    }\r\n\r\n    usersList() {\r\n        return this.state.users.map(currentuser => {\r\n            return <User user={currentuser} deleteUser={this.deleteUser} key={currentuser._id} />;\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h3>Manage Users</h3>\r\n                <Button as={Link} to=\"/admin/create-user\" variant=\"primary\" type=\"submit\">Add User</Button>\r\n                <br/>\r\n                <Table striped bordered hover>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Username</th>\r\n                            <th>Name</th>\r\n                            <th>Status</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        { this.usersList() }\r\n                    </tbody>\r\n                </Table>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component, useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Table, Button, Form, InputGroup, FormControl } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport deployment from \"../../../deployment\";\r\nimport { getProducts } from \"../../../services/services\";\r\nimport { findAllByTestId } from \"@testing-library/react\";\r\n\r\nlet _isMounted = false;\r\n// let needsRefresh = false;\r\n\r\nconst ManageProducts = props => {\r\n    const [products, setProducts] = useState([]);\r\n    const [customer, setCustomer] = useState({Customer: \"Test Name\", Price: 199});\r\n    const [update, setUpdate] = useState(false);\r\n\r\n    useEffect(() => {\r\n        _isMounted = true;\r\n        if (update || products.length === 0)\r\n            fetchData();\r\n        return () => { _isMounted = false };\r\n    }, [update]);\r\n\r\n    const fetchData = async e => {\r\n        let res = await getProducts();\r\n        if (res) {\r\n            setProducts(res);\r\n            setUpdate(false);\r\n        }\r\n    }\r\n\r\n    const deleteProduct = async(prodid, Customer) => {\r\n        console.log(Customer);\r\n        axios.delete(deployment.localhost + \"/products/pricing/\" + prodid + \"/\" + Customer)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setUpdate(true);\r\n            });\r\n    }\r\n\r\n    const searchCustomer = e => {\r\n        // Find customer from form\r\n        e.preventDefault();\r\n        console.log(\"press me!\")\r\n    }\r\n\r\n    const CustomerPrice = props => (\r\n        <tr>\r\n            <td>{props.customer.Customer}</td>\r\n            <td>{props.product.sku}</td>\r\n            <td>{props.product.title}</td>\r\n            <td>{props.customer.Price}</td>\r\n            <td>\r\n                <Link to={\"/admin/products/edit/\" + props.product._id}>edit</Link> |\r\n                <a href=\"#\" onClick={() => { props.deleteProduct(props.product._id, props.customer.Customer) }}>delete</a>\r\n            </td>\r\n        </tr>\r\n    )\r\n\r\n    const productsList = e => {\r\n        if (products != \"\") {\r\n            return products.map(currentproduct => {\r\n                return currentproduct.pricing.map(currentcustomer => {\r\n                    return <CustomerPrice product={currentproduct} customer={currentcustomer} deleteProduct={deleteProduct} key={currentcustomer._id} />;\r\n                })\r\n            });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <p>Catalogue Management Page</p>\r\n            <Button as={Link} to=\"/admin/add-product\" variant=\"primary\" type=\"submit\">Add Product</Button>\r\n            <br/><br/>\r\n            <Form onSubmit={searchCustomer} className=\"w-50\">\r\n                <InputGroup className=\"mb-3\">\r\n                    <FormControl\r\n                    type=\"text\"\r\n                    placeholder=\"Customer\"\r\n                    // onChange={e => setCustomer(e.target.value)}\r\n                    // value={customer.Customer}\r\n                    />\r\n                    <InputGroup.Append>\r\n                        <Button variant=\"primary\" type=\"submit\">Search</Button>\r\n                    </InputGroup.Append>\r\n                </InputGroup>\r\n            </Form>\r\n            <Table striped bordered hover>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Customer</th>\r\n                        <th>SKU</th>\r\n                        <th>Title</th>\r\n                        <th>Price</th>\r\n                        <th>Modify</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    { productsList() }\r\n                </tbody>\r\n            </Table>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ManageProducts;","import React, { Component, useEffect, useState } from \"react\";\r\nimport { Button, Table, Form } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport deployment from \"../../../deployment\";\r\nimport { parse } from \"papaparse\";\r\n\r\nconst AddProduct = props => {\r\n    const [pricing, setPricing] = useState([]);\r\n    const [sku, setSku] = useState(\"\");\r\n    const [title, setTitle] = useState(\"\");\r\n    const [importDone, setImportDone] = useState(false);\r\n    const [Customer, setCustomerName] = useState(\"\");\r\n    const [Price, setCustomerPrice] = useState(\"\");\r\n\r\n    let _isMounted = false;\r\n\r\n    useEffect(() => {\r\n        _isMounted = true;\r\n        console.log(pricing);\r\n        return () => { _isMounted = false };\r\n    }, [pricing]);\r\n\r\n    const deleteCustomerPrice = Customer => {\r\n        setPricing(pricing.filter(el => el.Customer !== Customer));\r\n    }\r\n\r\n    const CustomerPrices = props => (\r\n        <tr>\r\n            <td>{props.customer.Customer}</td>\r\n            <td>{props.customer.Price}</td>\r\n            <td>\r\n                {/* <Link to={\"/admin/customers/edit/\" + props.customer._id}>edit</Link> | */}\r\n                <a href=\"#\" onClick={() => { props.deleteCustomerPrice(props.customer.Customer) }}>delete</a>\r\n            </td>\r\n        </tr>\r\n    );\r\n\r\n    const DragNDropElement = props => (\r\n        <tr>\r\n            <td colSpan={\"100%\"}>\r\n                <div\r\n                    onDragOver={(e) => {\r\n                        e.preventDefault();\r\n                    }}\r\n                    onDrop={async (e) => {\r\n                        e.preventDefault();\r\n                        const customerPrices = await e.dataTransfer.files[0].text();\r\n                        const res = parse(customerPrices, { header: true });\r\n                        setPricing(res.data);\r\n                        setImportDone(true);\r\n                    }}\r\n                >\r\n                    Drag CSV to import Customer Pricing\r\n                </div>\r\n            </td>\r\n        </tr>\r\n    );\r\n\r\n    const pricingTable = e => {\r\n        if (!importDone && pricing.length == 0) {\r\n            return <DragNDropElement />\r\n        } else {\r\n            return pricing.map(currentcustomer => {\r\n                return <CustomerPrices customer={currentcustomer} deleteCustomerPrice={deleteCustomerPrice} key={pricing.indexOf(currentcustomer)} />;\r\n            });\r\n        }\r\n    }\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n        const product = {\r\n            sku,\r\n            title,\r\n            pricing\r\n        }\r\n        axios.post(deployment.localhost + \"/products/add\", product)\r\n        .then(res => {\r\n            console.log(res.data);\r\n            window.location = \"/admin/products\";\r\n        });\r\n    }\r\n\r\n    const addCustomerPrice = e => {\r\n        e.preventDefault();\r\n        let data = { Customer, Price };\r\n        // Append to state\r\n        setPricing(prev => [...prev, data]);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h6>Create New Product</h6>\r\n            <Form id=\"submit-new-product\" onSubmit={ onSubmit } className=\"mb-3\">\r\n                <Form.Label>SKU</Form.Label>\r\n                <Form.Control type=\"text\" required value={sku} onChange={e => setSku(e.target.value)} placeholder=\"\"/>\r\n                <Form.Label>Name</Form.Label>\r\n                <Form.Control type=\"text\" value={title} onChange={e => setTitle(e.target.value)}  placeholder=\"\"/>\r\n                <br/>\r\n                <Form.Label>Add New Customer Price</Form.Label>\r\n                <Form.Control type=\"text\" value={Customer} onChange={e => setCustomerName(e.target.value)} placeholder=\"Enter Customer Name\"/>\r\n                <Form.Control type=\"text\" value={Price} onChange={e => setCustomerPrice(e.target.value)} placeholder=\"Enter Price\"/>\r\n                <Button onClick={ addCustomerPrice }>Add</Button>\r\n                <br/><br/>\r\n                <Table striped bordered hover>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Customer</th>\r\n                            <th>Price</th>\r\n                            <th>Modify</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        { pricingTable() }\r\n                    </tbody>\r\n                </Table>\r\n                <Button onClick={() => setPricing([])}>Clear</Button>\r\n                <br/><br/>\r\n                <Button as={Link} to=\"/admin/products\" variant=\"primary\">Back</Button>\r\n                <Button variant=\"primary\" type=\"submit\">Create</Button>\r\n            </Form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddProduct;","import React, { Component, useState, useEffect } from \"react\";\r\nimport { Button, Table, Form } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport deployment from \"../../../deployment\";\r\nimport { getProductById, updateProduct } from \"../../../services/services\";\r\nimport { parse } from \"papaparse\";\r\n\r\nconst EditProduct = props => {\r\n    let _isMounted = false;\r\n\r\n    const [sku, setsku] = useState(\"\");\r\n    const [active, setactive] = useState(\"\");\r\n    const [title, settitle] = useState(\"\");\r\n    const [pricing, setPricing] = useState([]);\r\n    const [importDone, setImportDone] = useState(false);\r\n    const [Customer, setCustomerName] = useState(\"\");\r\n    const [Price, setCustomerPrice] = useState(0);\r\n    // Remainder need to be separated into components i.e. shipping\r\n\r\n    useEffect(() => {\r\n        _isMounted = true;\r\n        async function fetchData() {\r\n            let res = await getProductById(props.match.params.id);\r\n\r\n            if (res) {\r\n                setsku(res.sku);\r\n                setactive(res.active);\r\n                settitle(res.title);\r\n                setPricing(res.pricing);\r\n            }\r\n        }\r\n        fetchData();\r\n        return () => { _isMounted = false };\r\n    }, []);\r\n\r\n    const onSubmit = async e => {\r\n        // Get state modifiers here to do loading when submit executes\r\n        e.preventDefault();\r\n        const product = {\r\n            sku,\r\n            active,\r\n            title,\r\n            pricing\r\n        }\r\n        console.log(pricing);\r\n        console.log(product);\r\n        let res = await updateProduct(props.match.params.id, product);\r\n        if (res) {\r\n            console.log(res);\r\n            window.location = \"/admin/products\";\r\n        }\r\n    }\r\n\r\n    const addCustomerPrice = e => {\r\n        e.preventDefault();\r\n        let p = parseInt(Price);\r\n        let data = { Customer, \"Price\": p };\r\n        // Append to state\r\n        setPricing(prev => [...prev, data]);\r\n    }\r\n\r\n    const deleteCustomerPrice = Customer => {\r\n        setPricing(pricing.filter(el => el.Customer !== Customer));\r\n    }\r\n\r\n    const CustomerPrices = props => (\r\n        <tr>\r\n            <td>{props.customer.Customer}</td>\r\n            <td>{props.customer.Price}</td>\r\n            <td>\r\n                {/* <Link to={\"/admin/customers/edit/\" + props.customer._id}>edit</Link> | */}\r\n                <a href=\"#\" onClick={() => { props.deleteCustomerPrice(props.customer.Customer) }}>delete</a>\r\n            </td>\r\n        </tr>\r\n    );\r\n\r\n    const pricingTable = e => {\r\n        if (!importDone && pricing.length == 0) {\r\n            return <DragNDropElement />\r\n        } else {\r\n            return pricing.map(currentcustomer => {\r\n                return <CustomerPrices customer={currentcustomer} deleteCustomerPrice={deleteCustomerPrice} key={pricing.indexOf(currentcustomer)} />;\r\n            });\r\n        }\r\n    }\r\n    \r\n    const DragNDropElement = props => (\r\n        <tr>\r\n            <td colSpan={\"100%\"}>\r\n                <div\r\n                    onDragOver={(e) => {\r\n                        e.preventDefault();\r\n                    }}\r\n                    onDrop={async (e) => {\r\n                        e.preventDefault();\r\n                        const customerPrices = await e.dataTransfer.files[0].text();\r\n                        const res = parse(customerPrices, { header: true });\r\n                        console.log(res.data);\r\n                        setPricing(res.data);\r\n                        setImportDone(true);\r\n                    }}\r\n                >\r\n                    Drag CSV to import Customer Pricing\r\n                </div>\r\n            </td>\r\n        </tr>\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            <h1>Edit Product</h1>\r\n            <Form onSubmit={onSubmit} className=\"mb-3\">\r\n                <Form.Label>SKU</Form.Label>\r\n                <Form.Control type=\"text\" required value={sku} onChange={e => setsku(e.target.value)} placeholder=\"\"/>\r\n                {/* <Form.Label>Active</Form.Label>\r\n                <Form.Control type=\"text\" required value={active} onChange={e => setactive(e.target.value)} placeholder=\"\"/> */}\r\n                <Form.Label>Name</Form.Label>\r\n                <Form.Control type=\"text\" required value={title} onChange={e => settitle(e.target.value)} placeholder=\"\"/>\r\n                <br/>\r\n                <Form.Label>Add New Customer Price</Form.Label>\r\n                <Form.Control type=\"text\" value={Customer} onChange={e => setCustomerName(e.target.value)} placeholder=\"Enter Customer Name\"/>\r\n                <Form.Control type=\"text\" value={Price} onChange={e => setCustomerPrice(e.target.value)} placeholder=\"Enter Price\"/>\r\n                <Button onClick={ addCustomerPrice }>Add</Button>\r\n                <br/><br/>\r\n                <Table striped bordered hover>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Customer</th>\r\n                            <th>Price</th>\r\n                            <th>Modify</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        { pricingTable() }\r\n                    </tbody>\r\n                </Table>\r\n                <Button onClick={() => setPricing([])}>Clear</Button>\r\n                <br/><br/>\r\n                <Button as={Link} to=\"/admin/products\" variant=\"primary\">Back</Button>\r\n                <Button variant=\"primary\" type=\"submit\">Save</Button>\r\n            </Form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EditProduct;","import React, { Component } from \"react\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport deployment from \"../../../deployment\";\r\n\r\nexport default class EditUser extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.onChangeUsername = this.onChangeUsername.bind(this);\r\n        this.onChangeCurrentPassword = this.onChangeCurrentPassword.bind(this);\r\n        this.onChangeNewPassword = this.onChangeNewPassword.bind(this);\r\n        // this.onChangeEmail = this.onChangeEmail.bind(this);\r\n        // this.onChangeFirstName = this.onChangeFirstName.bind(this);\r\n        // this.onChangeLastName = this.onChangeLastName.bind(this);\r\n        // this.onChangeAccess = this.onChangeAccess.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n\r\n        this.state = {\r\n            username: '',\r\n            currentPassword: '',\r\n            newPassword: '',\r\n            // email: '',\r\n            // firstName: '',\r\n            // lastName: '',\r\n            // accessLevel: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(deployment.localhost + \"/users/id/\" + this.props.match.params.id)\r\n            .then(res => {\r\n                this.setState({\r\n                    username: res.data.username\r\n                });\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n\r\n    onChangeUsername(e) {\r\n        this.setState({\r\n            username: e.target.value\r\n        });\r\n    }\r\n    onChangeCurrentPassword(e) {\r\n        this.setState({\r\n            currentPassword: e.target.value\r\n        });\r\n    }\r\n    onChangeNewPassword(e) {\r\n        this.setState({\r\n            newPassword: e.target.value\r\n        });\r\n    }\r\n    // onChangeEmail(e) {\r\n    //     this.setState({\r\n    //         email: e.target.value\r\n    //     });\r\n    // }\r\n    // onChangeFirstName(e) {\r\n    //     this.setState({\r\n    //         firstName: e.target.value\r\n    //     });\r\n    // }\r\n    // onChangeLastName(e) {\r\n    //     this.setState({\r\n    //         lastName: e.target.value\r\n    //     });\r\n    // }\r\n    // onChangeAccess(e) {\r\n    //     this.setState({\r\n    //         accessLevel: e.target.value\r\n    //     });\r\n    // }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        const user = {\r\n            username: this.state.username,\r\n            currentPassword: this.state.currentPassword,\r\n            newPassword: this.state.newPassword,\r\n            // email: this.state.email,\r\n            // firstName: this.state.firstName,\r\n            // lastName: this.state.lastName,\r\n            // accessLevel: this.state.accessLevel\r\n        }\r\n        console.log(user);\r\n        axios.post(deployment.localhost + \"/users/changePassword/\" + this.props.match.params.id, user)\r\n            .then(res => console.log(res.data));\r\n\r\n        this.setState({\r\n            username: '',\r\n            currentPassword: '',\r\n            newPassword: '',\r\n            // email: '',\r\n            // firstName: '',\r\n            // lastName: '',\r\n            // accessLevel: ''\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h6>Edit User</h6>\r\n                <Form onSubmit={this.onSubmit}>\r\n                    <Form.Group>\r\n                        <Form.Label>Username</Form.Label>\r\n                        <Form.Control type=\"username\" required value={this.state.username} onChange={this.onChangeUsername} placeholder=\"Enter Username\"/>\r\n                        {/* <Form.Label>First Name</Form.Label>\r\n                        <Form.Control type=\"text\" value={this.state.firstName} onChange={this.onChangeFirstName} placeholder=\"Enter First Name\"/>\r\n                        <Form.Label>Last Name</Form.Label>\r\n                        <Form.Control type=\"text\" value={this.state.lastName} onChange={this.onChangeLastName} placeholder=\"Enter Last Name\"/>\r\n                        <Form.Label>Email</Form.Label>\r\n                        <Form.Control type=\"email\" value={this.state.email} onChange={this.onChangeEmail} placeholder=\"Enter Email\"/> */}\r\n                        <Form.Label>Current Password</Form.Label>\r\n                        <Form.Control type=\"password\" required value={this.state.currentPassword} onChange={this.onChangeCurrentPassword} placeholder=\"Enter Current Password\"/>\r\n                        <Form.Label>New Password</Form.Label>\r\n                        <Form.Control type=\"password\" required value={this.state.newPassword} onChange={this.onChangeNewPassword} placeholder=\"Enter New Password\"/>\r\n                        {/* <Form.Label>Access Level</Form.Label>\r\n                        <Form.Control as=\"select\" aria-label=\"Default select\" value={this.state.accessLevel} onChange={this.onChangeAccess}>\r\n                            <option>Standard</option>\r\n                            <option>Administrator</option>\r\n                        </Form.Control> */}\r\n                    </Form.Group>\r\n                    <Button as={Link} to=\"/admin/users\" variant=\"primary\">Back</Button>\r\n                    <Button variant=\"primary\" type=\"submit\">Save</Button>\r\n                </Form>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Navbar, Nav, NavItem, NavDropdown, MenuItem, NavLink } from \"react-bootstrap\";\r\n\r\nconst Menu = props => {\r\n    return (\r\n        <div className=\"menu\">\r\n            <Navbar className=\"p-2 w-100\" bg=\"dark\" variant=\"dark\" expand=\"lg\">\r\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                <Navbar.Brand as={Link} to=\"/\">Pricelist</Navbar.Brand>\r\n                <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                </Navbar.Collapse>\r\n                <Navbar.Brand className=\"navbar-user\" as={Link} to=\"/login\">Login</Navbar.Brand>\r\n            </Navbar>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Menu;","import React, { Component } from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport deployment from \"../../../deployment\";\r\nimport { getProducts } from \"../../../services/services\";\r\n\r\n// No state or lifecycles (Functional component)\r\nconst Product = props => (\r\n    <tr>\r\n        <td>{props.product.sku}</td>\r\n        <td>{props.product.active.toString()}</td>\r\n        <td>{props.product.title}</td>\r\n        <td>{props.product.price}</td>\r\n    </tr>\r\n)\r\n\r\n// Class component\r\nexport default class ManageProducts extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.fetchData = this.fetchData.bind(this);\r\n        this.state = { products: [] };\r\n    }\r\n\r\n    fetchData = async e => {\r\n        let res = await getProducts();\r\n        console.log(res);\r\n        if (res) {\r\n            this.setState({ products: res })\r\n        }\r\n    }\r\n\r\n    // Get List of Products\r\n    componentDidMount() {\r\n        this.fetchData();\r\n    }\r\n\r\n    productsList() {\r\n        return this.state.products.map(currentproduct => {\r\n            return <Product product={currentproduct} deleteProduct={this.deleteProduct} key={currentproduct._id} />;\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <p>Catalogue</p>\r\n                <br/>\r\n                <Table striped bordered hover>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>SKU</th>\r\n                            <th>Active</th>\r\n                            <th>Title</th>\r\n                            <th>Price</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        { this.productsList() }\r\n                    </tbody>\r\n                </Table>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { propTypes } from \"react-bootstrap/esm/Image\";\r\n\r\nconst Home = props => {\r\n    return (\r\n        <div>\r\n            <h3>Home</h3>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home;","import React, { Component, useEffect } from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport deployment from \"../../../../deployment\";\r\n\r\nlet config = {\r\n  withCredentials: true,\r\n  credentials: \"include\",\r\n  headers: {\r\n      \"Accept\": \"*/*\",\r\n      \"Content-Type\": \"application/json\"\r\n  }\r\n};\r\n\r\nconst Dashboard = props => {\r\n  if (!props.isLoggedIn) {\r\n    console.log(\"You need to log in to view dashboard\")\r\n    return <Redirect to={props.failedRoute} />;\r\n  }\r\n\r\n  return (\r\n      <div>\r\n        <h1>Dashboard</h1>\r\n        <p>Secret Page</p>\r\n        <p>Logged in as: {props.user.username.toString()}</p>\r\n        <p>Access Level: {props.user.permission_group.toString()}</p>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n\r\n//     displayUserMenu() {\r\n//         return(\r\n//             <UserMenu data={ this.state.user } />\r\n//         )\r\n//     }\r\n","import React, { Component, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { Redirect } from \"react-router\";\r\nimport firebase from \"../../../../firebase\";\r\n\r\nconst Login = props => {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setpassword] = useState(\"\");\r\n\r\n    const handleLogin = async e => {\r\n        e.preventDefault();\r\n        props.setLoadingState(true);\r\n\r\n        firebase.auth().signInWithEmailAndPassword(email, password)\r\n                        .then(async (fb_auth) => {\r\n                            console.log(fb_auth);\r\n                            props.setLoadingState(false);\r\n                        })\r\n                        .catch((error) => {\r\n                            console.error(\"Incorrect email or password\");\r\n                        });\r\n    }\r\n\r\n    if (props.isLoggedIn) {\r\n        return <Redirect to={props.successRoute} />;\r\n    }\r\n\r\n    return (\r\n        <div className=\"page-body\">\r\n            <h1>Login</h1>\r\n            <Form onSubmit={handleLogin}>\r\n                <Form.Group>\r\n                    <Form.Control type=\"email\" required value={email} onChange={e => setEmail(e.target.value)} placeholder=\"Enter Username\"/>\r\n                    <Form.Control type=\"password\" required value={password} onChange={e => setpassword(e.target.value)} placeholder=\"Enter Current Password\"/>\r\n                </Form.Group>\r\n                <br />\r\n                <Button as={Link} to=\"/\" variant=\"primary\">Back</Button>\r\n                <Button variant=\"primary\" type=\"submit\">Login</Button>\r\n            </Form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;","import React, { Component, useState } from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport deployment from \"../../../../deployment\";\r\nimport firebase from \"../../../../firebase\";\r\n\r\nimport { addUser } from \"../../../../services/services\";\r\n\r\nconst config = {\r\n    withCredentials: true,\r\n    credentials: \"include\",\r\n    headers: {\r\n        \"Accept\": \"*/*\",\r\n        \"Content-Type\": \"application/json\"\r\n    }\r\n};\r\n\r\nconst Register = props => {\r\n    const [username, setusername] = useState(\"\");\r\n    const [password, setpassword] = useState(\"\");\r\n    const [first_name, setfirstname] = useState(\"\");\r\n    const [last_name, setlastname] = useState(\"\");\r\n    const [email_address, setemail] = useState(\"\");\r\n    const [permission_group, setpermissions] = useState(\"\");\r\n\r\n    const handleRegister = async e => {\r\n        e.preventDefault();\r\n        props.setLoadingState(true);\r\n        const user = {\r\n            username,\r\n            password,\r\n            first_name,\r\n            last_name,\r\n            email_address,\r\n            permission_group\r\n        };\r\n        const res = await addUser(user);\r\n        // Create user in Mongo\r\n        if (res) {\r\n            if (res.err)\r\n                console.log(\"An error occured\");\r\n            else if (res.data == \"Username already exists\")\r\n                console.log(\"Error: \" + res.data);\r\n            firebase.auth().createUserWithEmailAndPassword(email_address, password)\r\n                            .then((user) => {\r\n                                console.log(user);\r\n                            })\r\n                            .catch(err => console.error(err))\r\n            props.setLoadingState(false);\r\n        }\r\n    }\r\n\r\n    if (props.isLoggedIn) {\r\n        console.log(\"You are already logged in\")\r\n        return <Redirect to={props.successRoute} />;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Register Account</h1>\r\n            <Form onSubmit={handleRegister}>\r\n                <Form.Group>\r\n                    <Form.Control type=\"username\" required value={username} onChange={e => setusername(e.target.value)} placeholder=\"Enter Username\"/>\r\n                    <Form.Control type=\"text\" value={first_name} onChange={e => setfirstname(e.target.value)} placeholder=\"Enter First Name\"/>\r\n                    <Form.Control type=\"text\" value={last_name} onChange={e => setlastname(e.target.value)} placeholder=\"Enter Last Name\"/>\r\n                    <Form.Control type=\"email\" value={email_address} onChange={e => setemail(e.target.value)} placeholder=\"Enter Email\"/>\r\n                    <Form.Control type=\"password\" required value={password} onChange={e => setpassword(e.target.value)} placeholder=\"Enter Password\"/>\r\n                    <Form.Label>Access Level</Form.Label>\r\n                    <Form.Control as=\"select\" aria-label=\"Permissions Select\" value={permission_group} onChange={e => setpermissions(e.target.value)}>\r\n                        <option defaultValue>Standard</option>\r\n                        <option>Administrator</option>\r\n                    </Form.Control>\r\n                </Form.Group>\r\n                <Button as={Link} to=\"/\" variant=\"primary\">Back</Button>\r\n                <Button variant=\"primary\" type=\"submit\">Signup</Button>\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;","import React, { Component, useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Navbar, Nav, NavItem, NavDropdown, MenuItem, NavLink } from \"react-bootstrap\";\r\n\r\nimport axios from \"axios\";\r\nimport deployment from \"../../../../deployment\";\r\nimport firebase from \"../../../../firebase\";\r\n\r\nlet config = {\r\n    withCredentials: true,\r\n    credentials: \"include\",\r\n    headers: {\r\n        \"Accept\": \"*/*\",\r\n        \"Content-Type\": \"application/json\"\r\n    }\r\n  };\r\n\r\nconst AdminSidebar = props => {\r\n    const [openMenu, setOpenState] = useState(true);\r\n    const [menuCollapse, setClass] = useState(\"d-none d-md-block bg-light nav sidebar\");\r\n    const [arrowState, setArrowState] = useState(\"Collapse\");\r\n\r\n    useEffect(() => {\r\n    }, [openMenu]);\r\n\r\n    const collapseMenu = e => {\r\n        e.preventDefault();\r\n        // Toggle hide menu\r\n        if (!openMenu) {\r\n            setOpenState(true);\r\n            setClass(\"d-none d-md-block bg-light nav sidebar\");\r\n            setArrowState(\"Collapse\")\r\n        } else {\r\n            setOpenState(false);\r\n            setClass(\"d-none d-md-block bg-light nav sidebar sb-sidenav-collapse\");\r\n            setArrowState(\"Expand\")\r\n        }\r\n    }\r\n\r\n    const handleLogout = async e => {\r\n        e.preventDefault();\r\n        props.setLoadingState(true);\r\n        firebase.auth().signOut()\r\n                        .then(() => {\r\n                            console.log(\"Signed out user\");\r\n                            props.setLoggedOutState();\r\n                            props.setLoadingState(false);\r\n                        })\r\n    }\r\n\r\n    return (\r\n        <Nav className={menuCollapse}>\r\n            <Nav.Link className=\"menu-link\" as={Link} to={\"/dashboard\"}>Dashboard</Nav.Link>\r\n            <Nav.Link className=\"menu-link\" as={Link} to={\"/admin/customers\"}>Customers</Nav.Link>\r\n            <Nav.Link className=\"menu-link\" as={Link} to={\"/admin/products\"}>Products</Nav.Link>\r\n            <Nav.Link className=\"menu-link\" as={Link} to={\"/admin/users\"}>Users</Nav.Link>\r\n            <Nav.Link className=\"menu-link\" as={Link} to={\"/dashboard\"} disabled>Settings/Tools</Nav.Link>\r\n            <Nav.Link className=\"menu-link\" onClick={handleLogout}>Logout</Nav.Link>\r\n            {/* <Nav.Item className=\"collapse-menu\">\r\n                <Nav.Link className=\"btn\" onClick={collapseMenu}>{arrowState}</Nav.Link>\r\n            </Nav.Item> */}\r\n        </Nav>\r\n    );\r\n}\r\n\r\nexport default AdminSidebar;","import \"bootstrap/dist/css/bootstrap.min.css\";\nimport './App.css';\n\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport React, { Component, useEffect, useState } from \"react\";\n\nimport firebase from \"./firebase\";\nimport axios from \"axios\";\nimport { Spinner } from \"react-bootstrap\";\nimport deployment from \"./deployment\";\nimport { getUserByEmail } from \"./services/services\";\nimport ProtectedRoute from \"./components/public/common/pages/protected-route\";\nimport Unauthorised from \"./components/public/common/pages/unauthorised\";\n\n// Private Routes\nimport UserMenu from \"./components/public/common/menu/user-menu.component\";\nimport AdminMenu from \"./components/public/common/menu/admin-menu.component\";\nimport CreateUser from \"./components/admin/users/create-user.component\";\nimport ManageUsers from \"./components/admin/users/manage-users.component\";\nimport ManageProducts from \"./components/admin/products/manage-products.component\";\nimport AddProduct from \"./components/admin/products/create-product.component\";\nimport EditProduct from \"./components/admin/products/edit-product.component\";\nimport EditUser from \"./components/admin/users/edit-user.component\";\n\n// Public Routes\nimport Menu from \"./components/public/common/menu/common-menu.component\"\nimport ViewProducts from \"./components/public/products/view-products.component\";\nimport Product from \"./components/public/products/product\";\nimport Home from \"./components/public/common/pages/home\";\nimport Dashboard from \"./components/public/common/dashboard/dashboard\";\nimport Login from \"./components/public/common/pages/login\";\nimport Register from \"./components/public/common/pages/register-user\";\n\nimport AdminSidebar from \"./components/public/common/sidebar/admin-sidebar\";\n\nlet _isMounted = false;\n\nfunction App() {\n  const [user, setUser] = useState(\"\");\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [loading, setLoading] = useState(true); // set to true\n  const [classContent, setClassContent] = useState(\"page-content-wrapper\");\n\n  const setIsLoggedInState = user => {\n    setIsLoggedIn(true);\n    setUser(user);\n  };\n  const setLoggedOutState = user => {\n    setUser(\"\");\n    setIsLoggedIn(false);\n  };\n  const setLoadingState = state => {\n    setLoading(state);\n  }\n\n  useEffect(() => {\n    _isMounted = true;\n\n    if (!isLoggedIn)\n      getAuth();\n\n    if (isLoggedIn) {\n      if (user.permission_group == \"Administrator\") setClassContent(\"page-content-wrapper-user\");\n    } else setClassContent(\"page-content-wrapper\");\n\n    return () => { _isMounted = false };\n  }, [isLoggedIn]);\n\n  const getAuth = async () => {\n    if (_isMounted) {\n      firebase.auth().onAuthStateChanged(async (fb_auth) => {\n        if (fb_auth) {\n          // Get mongo user from firebase user\n          let user = await getUserByEmail(fb_auth.email);\n          setUser(user);\n          setIsLoggedIn(true);\n          console.log(fb_auth.email + \" is logged in\");\n        } else {\n          setUser(\"\");\n          setIsLoggedIn(false);\n          console.log(\"User not logged in\");\n        }\n        setLoading(false);\n      });\n    }\n  }\n\n  return (\n    <div className=\"app-wrapper\">\n          {loading ? \n      <Spinner animation=\"border\" /> :\n        <Router>\n        <div className=\"container-fluid\">\n          {isLoggedIn ? (user.permission_group != \"Administrator\" ? <UserMenu user={user} isLoggedIn={isLoggedIn} setLoggedOutState={setLoggedOutState} setLoadingState={setLoadingState} /> : <AdminMenu user={user} setLoggedOutState={setLoggedOutState} setLoadingState={setLoadingState} />) : <Menu />}\n        </div>\n        {/* {isLoggedIn ? (user.permission_group != \"Administrator\" ? <UserSidebar user={user} isLoggedIn={isLoggedIn} /> : <AdminSidebar user={user} />) : <Sidebar />} */}\n        <div className=\"container-fluid body-wrapper p-3\">\n          {isLoggedIn ? (user.permission_group == \"Administrator\" ? (<div className=\"sidebar-wrapper\">\n                            <AdminSidebar setLoggedOutState={setLoggedOutState} setLoadingState={setLoadingState} />\n                          </div>\n                          ) : null) : null }\n          <div className={classContent}>\n            <ProtectedRoute exact path=\"/admin/create-user\" user={user} isLoggedIn={isLoggedIn} component={CreateUser} />\n            <ProtectedRoute exact path=\"/admin/add-product\" user={user} isLoggedIn={isLoggedIn} component={AddProduct} />\n            <ProtectedRoute exact path=\"/admin/users\" user={user} isLoggedIn={isLoggedIn} component={ManageUsers} />\n            <ProtectedRoute exact path=\"/admin/products\" user={user} isLoggedIn={isLoggedIn} component={ManageProducts} />\n            <ProtectedRoute exact path=\"/admin/users/edit/:id\" user={user} isLoggedIn={isLoggedIn} component={EditUser} />\n            <ProtectedRoute exact path=\"/admin/products/edit/:id\" user={user} isLoggedIn={isLoggedIn} component={EditProduct} />\n\n            {/* Static components */}\n            <Route exact path=\"/401\" component={Unauthorised} />\n\n            {/* Functional components */}\n            <Route exact path=\"/catalogue\" component={ViewProducts} />\n            <Route exact path=\"/\" component={Home} />\n            <Route exact path=\"/login\"\n              render={props => <Login {...props} successRoute={\"/dashboard\"} isLoggedIn={isLoggedIn} setIsLoggedInState={setIsLoggedInState} setLoadingState={setLoadingState} />} />\n            <Route exact path=\"/signup\"\n              render={props => <Register {...props} successRoute={\"/dashboard\"} isLoggedIn={isLoggedIn} setLoadingState={setLoadingState} />} />\n            <Route exact path=\"/dashboard\"\n              render={props => <Dashboard {...props} failedRoute={\"/\"} user={user} isLoggedIn={isLoggedIn} setIsLoggedInState={setIsLoggedInState} setLoggedOutState={setLoggedOutState} setLoadingState={setLoadingState} />} />\n          </div>\n        </div>\n      </Router>\n      }\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}